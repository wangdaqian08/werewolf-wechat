
<view class="container">
  <!-- Player count picker -->
  <picker mode="selector" range="{{playerCounts}}" bindchange="onPlayerCountChange">
    <view class="picker">本局人数: {{selectedPlayerCount}}</view>
  </picker>

  <!-- Role configuration area -->
  <view wx:if="{{selectedPlayerCount > 0}}" class="role-config">
    <text class="section-title">角色设置</text>

    <!-- Werewolf role (adjustable) -->
    <view class="role-item">
      <text>Werewolf</text>
      <picker mode="selector" range="{{werewolfRange}}" bindchange="onWerewolfChange">
        <view class="picker">选择人数: {{werewolf.count}}</view>
      </picker>
    </view>

    <!-- Fixed roles -->
    <view class="fixed-roles">
      <text class="role-title">固定角色:</text>
      <view wx:for="{{fixedRoles}}" wx:key="name" class="role-item">
        <text>{{item.name}} - Players: {{item.count}}</text>
      </view>
    </view>

    <!-- Selected roles summary (before confirm) -->
    <view class="selected-roles">
      <text class="role-title">已选角色:</text>
      <view wx:for="{{selectedRolesList}}" wx:key="name" class="role-item">
        <text>{{item.name}}: {{item.count}}</text>
      </view>
      <text>Total: {{currentTotal}} / {{selectedPlayerCount}}</text>
    </view>

    <!-- Confirm button -->
    <button bindtap="onConfirm" disabled="{{currentTotal !== selectedPlayerCount}}">确认</button>
  </view>

  <!-- Final summary -->
  <view wx:if="{{summary}}">
    <text>{{summary}}</text>
  </view>
</view>